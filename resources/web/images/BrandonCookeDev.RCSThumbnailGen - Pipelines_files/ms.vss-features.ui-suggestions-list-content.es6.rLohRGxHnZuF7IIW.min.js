"use strict";define("VSSUI",["require","exports","react","VSS/Core/Observable"],function(e,s,t,o){var n;!function(e){n=s[e]={},Object.defineProperty(s,"__esModule",{value:!0});class i extends t.Component{constructor(){super(...arguments),this.onSuggestionClicked=(e=>{e.isDefaultPrevented()||(this.props.onClick(this.props),e.preventDefault())})}render(){const{renderSuggestion:e,className:o,isSelected:n}=this.props;return t.createElement("div",{className:s.Util.css(o,"bolt-suggestions-item flex-row flex-grow cursor-pointer scroll-hidden",n&&"bolt-suggestions-isSuggested")},t.createElement("div",{onMouseDown:s.Util.preventDefault,onClick:this.onSuggestionClicked,className:"bolt-suggestions-item-button flex-row flex-grow scroll-hidden"},e(this.props)))}}s[e].SuggestionsItem=i;s[e].SuggestionsList=class extends t.Component{constructor(){super(...arguments),this.scrollableRegion=t.createRef(),this.selectedElement=t.createRef(),this.onBlur=(()=>{this.props.onBlur&&this.props.onBlur()}),this.onFocus=(e=>{this.props.onFocus&&this.props.onFocus(e)})}render(){const{className:e,loadingText:n,renderNoResultFound:i}=this.props,l=o.ObservableLike.getValue(this.props.suggestions),r=o.ObservableLike.getValue(this.props.isLoading),g=!(l&&l.length||r);return t.createElement("div",{className:s.Util.css(e,"bolt-suggestions flex-row flex-grow"),id:s.Util.getSafeId("suggestions-list"),style:this.props.width&&{width:this.props.width}},r?t.createElement(s.Spinner.Spinner,{className:"bolt-suggestions-spinner flex-grow flex-center justify-center",id:"suggestions-spinner",label:n}):!g&&this.renderSuggestions(),t.createElement("div",{className:s.Util.css("bolt-suggestions-none-region",g?"flex-row flex-grow":"has-suggestions"),id:s.Util.getSafeId("sug-list-no-results"),role:"text"},g&&(i?i():this.noResults())),t.createElement("div",{"aria-label":n||"Loading",id:s.Util.getSafeId("sug-list-transition"),role:"text"}))}componentDidMount(){this.scrollSelected()}componentDidUpdate(){this.scrollSelected()}noResults(){const{noResultsFoundText:e}=this.props;return e?t.createElement("div",{className:"bolt-suggestions-none flex-row flex-grow flex-center"},e):null}renderSuggestions(){const{createDefaultItem:e,renderSuggestion:o,onSuggestionClicked:n,suggestionsItemClassName:l,resultsMaximumNumber:r,selectedIndex:g,suggestions:u,suggestionsContainerAriaLabel:c,width:a}=this.props;return t.createElement(s.FocusWithin.FocusWithin,{onBlur:this.onBlur,onFocus:this.onFocus},d=>t.createElement(s.Observer.Observer,{suggestions:u,selectedIndex:g},g=>{r&&(g.suggestions=g.suggestions.slice(0,r));const u=g.suggestions;return e&&u.unshift(e(u)),t.createElement("div",{"aria-label":c,className:"bolt-suggestions-container flex-column flex-grow v-scroll-auto h-scroll-hidden",id:s.Util.getSafeId("suggestion-list"),ref:this.scrollableRegion,role:"listbox",style:a&&{width:a}},t.createElement("div",{className:"bolt-suggestion-spacer",onMouseDown:s.Util.preventDefault}),g.suggestions.map((e,r)=>{const u=r===g.selectedIndex;return t.createElement("div",{className:"flex-noshrink",key:s.Util.getSafeId("sug-"+r),id:s.Util.getSafeId("sug-row-"+r),ref:u?this.selectedElement:"",role:"option"},t.createElement(i,{className:l,id:s.Util.getSafeId("sug-item"+r),index:r,isSelected:u,item:e,onBlur:d.onBlur,onFocus:d.onFocus,onClick:n,renderSuggestion:o}))}),t.createElement("div",{className:"bolt-suggestion-spacer",onMouseDown:s.Util.preventDefault}))}))}scrollSelected(){this.scrollableRegion.current&&this.selectedElement.current&&(this.scrollableRegion.current.scrollTop=this.selectedElement.current.offsetTop)}}}("ComponentsSuggestionsListSuggestionsList"),s.SuggestionsList={},Object.defineProperty(s,"__esModule",{value:!0}),s.SuggestionsList.SuggestionsItem=n.SuggestionsItem,s.SuggestionsList.SuggestionsList=n.SuggestionsList},["Components/SuggestionsList/SuggestionsList","SuggestionsList"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-features.ui-suggestions-list-content"}}));